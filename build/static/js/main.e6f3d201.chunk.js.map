{"version":3,"sources":["uitls.js","components/SearchBox.js","components/LinkListItem.js","components/LinkList.js","components/WarningBanner.js","components/App.js","views/404.js","components/AppRouter.js","index.js"],"names":["handleLinkProtocol","longURL","includes","concat","SearchBox","_ref","onError","onSubmit","history","isLoading","_React$useState","React","useState","_React$useState2","Object","slicedToArray","url","setUrl","inputRef","useRef","useEffect","current","focus","react_default","a","createElement","Grid","container","spacing","item","xs","sm","TextField","label","variant","value","onChange","e","target","fullWidth","Button","color","size","onClick","preventDefault","match","handleSubmit","style","padding","disabled","LinkListItem","pageTitle","shortURL","hasDivider","Fragment","Divider","Box","pt","pb","Typography","alignItems","Tooltip","title","placement","noWrap","href","rel","el","document","body","appendChild","select","execCommand","removeChild","copyToClipboard","width","LinkList","length","list","slice","map","link","i","hash","components_LinkListItem","id","key","Card","CardContent","useStyles","makeStyles","theme","root","position","WarningBanner","warn","message","classes","className","Alert","severity","App","setHistory","_React$useState3","_React$useState4","setMessage","_React$useState5","_React$useState6","showWarning","setShowWarning","_React$useState7","_React$useState8","setIsLoading","handleSearchSubmit","asyncToGenerator","regenerator_default","mark","_callee","result","wrap","_context","prev","next","axios","post","process","sent","data","toConsumableArray","t0","handleWarning","stop","_x","apply","this","arguments","setTimeout","components_WarningBanner","justify","marginTop","components_SearchBox","components_LinkList","NotFound","props","AppRouter","react_router_dom","react_router","exact","path","component","ReactDOM","render","components_AppRouter","querySelector"],"mappings":"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","file":"static/js/main.e6f3d201.chunk.js","sourcesContent":["// https://stackoverflow.com/a/49849482\nexport const isValidURL = (string) => {\n  var res = string.match(\n    /(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/g\n  );\n  return res == null ? false : true;\n};\n\nexport const copyToClipboard = (shortURL) => {\n  const el = document.createElement(\"textarea\");\n  el.value = shortURL;\n  document.body.appendChild(el);\n  el.select();\n  document.execCommand(\"copy\");\n  document.body.removeChild(el);\n};\n\nexport const handleLinkProtocol = (longURL) => {\n  let redirectLink =\n    longURL.includes(\"http://\") || longURL.includes(\"https://\")\n      ? longURL\n      : `http://${longURL}`;\n\n  return redirectLink;\n};\n","import React from \"react\";\r\nimport { Grid, Button, TextField } from \"@material-ui/core\";\r\nimport { isValidURL } from \"../uitls\";\r\n\r\nconst SearchBox = ({ onError, onSubmit, history, isLoading }) => {\r\n  const [url, setUrl] = React.useState(\"\");\r\n  const inputRef = React.useRef(null);\r\n  React.useEffect(() => {\r\n    inputRef.current.focus();\r\n    setUrl(\"\");\r\n  }, [history]);\r\n\r\n  const handleSubmit = (url) => {\r\n    if (url === \"\") {\r\n      return;\r\n    }\r\n\r\n    if (!isValidURL(url)) {\r\n      onError(\"Unable to shorten that link. It is not a valid url.\");\r\n\r\n      return;\r\n    }\r\n\r\n    onSubmit(url);\r\n  };\r\n\r\n  return (\r\n    <Grid container spacing={1}>\r\n      <Grid item xs={12} sm={9}>\r\n        <TextField\r\n          inputRef={inputRef}\r\n          label=\"Paste a link to shorten it\"\r\n          variant=\"outlined\"\r\n          value={url}\r\n          onChange={(e) => setUrl(e.target.value)}\r\n          fullWidth\r\n        />\r\n      </Grid>\r\n      <Grid item xs={12} sm={3}>\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          size=\"large\"\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            handleSubmit(url);\r\n          }}\r\n          fullWidth\r\n          style={{\r\n            padding: \"15px\",\r\n          }}\r\n          disabled={isLoading}\r\n        >\r\n          SHORTEN\r\n        </Button>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default SearchBox;\r\n","import React from \"react\";\r\nimport {\r\n  Box,\r\n  Button,\r\n  Divider,\r\n  Grid,\r\n  Tooltip,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { copyToClipboard, handleLinkProtocol } from \"../uitls\";\r\n\r\nconst LinkListItem = ({ pageTitle, longURL, shortURL, hasDivider }) => {\r\n  return (\r\n    <>\r\n      {hasDivider ? <Divider /> : null}\r\n      <Box pt={2} pb={2}>\r\n        <Grid container>\r\n          <Grid item xs={12} sm={12}>\r\n            <Typography>{pageTitle}</Typography>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid container alignItems=\"center\">\r\n          <Grid item xs={12} sm={5}>\r\n            <Tooltip title={longURL} placement=\"bottom-start\">\r\n              <Typography noWrap={true}>{longURL}</Typography>\r\n            </Tooltip>\r\n          </Grid>\r\n          <Grid item xs={12} sm={5}>\r\n            <a\r\n              href={handleLinkProtocol(shortURL)}\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n            >\r\n              <Typography noWrap={true}>{shortURL}</Typography>\r\n            </a>\r\n          </Grid>\r\n          <Grid item xs={12} sm={2}>\r\n            <Button\r\n              variant=\"outlined\"\r\n              color=\"primary\"\r\n              onClick={(e) => {\r\n                copyToClipboard(shortURL);\r\n              }}\r\n              style={{ width: \"100%\" }}\r\n            >\r\n              COPY\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LinkListItem;\r\n","import React from \"react\";\r\nimport { Card, CardContent } from \"@material-ui/core\";\r\nimport LinkListItem from \"./LinkListItem\";\r\n\r\nconst LinkList = ({ history }) => {\r\n  if (history.length < 1) {\r\n    return null;\r\n  }\r\n\r\n  const list = history.slice(0, 5).map((link, i) => {\r\n    const { hash, longURL, shortURL, pageTitle } = link;\r\n\r\n    return (\r\n      <LinkListItem\r\n        id={hash + i}\r\n        key={hash + i}\r\n        longURL={longURL}\r\n        shortURL={shortURL}\r\n        pageTitle={pageTitle}\r\n        hasDivider={history.length > 1 && i !== 0}\r\n      />\r\n    );\r\n  });\r\n\r\n  return (\r\n    <Card variant=\"outlined\">\r\n      <CardContent>{list}</CardContent>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default LinkList;\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    position: \"absolute\",\r\n  },\r\n}));\r\n\r\nconst WarningBanner = ({ warn, message }) => {\r\n  const classes = useStyles();\r\n\r\n  if (!warn) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Alert severity=\"error\">{message}</Alert>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WarningBanner;\r\n","import \"fontsource-roboto\";\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { Grid } from \"@material-ui/core\";\r\n\r\nimport SearchBox from \"./SearchBox\";\r\nimport LinkList from \"./LinkList\";\r\nimport WarningBanner from \"./WarningBanner\";\r\n\r\nconst App = () => {\r\n  const [history, setHistory] = React.useState([]);\r\n  const [message, setMessage] = React.useState([]);\r\n  const [showWarning, setShowWarning] = React.useState(false);\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n\r\n  const handleSearchSubmit = async (longURL) => {\r\n    try {\r\n      setIsLoading(true);\r\n\r\n      const result = await axios.post(\r\n        `${process.env.REACT_APP_API_HOST}/api/shorten`,\r\n        { longURL }\r\n      );\r\n\r\n      let link = {\r\n        longURL: result.data.longURL,\r\n        shortURL: result.data.shortURL,\r\n        hash: result.data.hash,\r\n        pageTitle: result.data.pageTitle,\r\n      };\r\n\r\n      setHistory([link, ...history]);\r\n      setIsLoading(false);\r\n    } catch (err) {\r\n      handleWarning(err.message);\r\n    }\r\n  };\r\n\r\n  const handleWarning = (message) => {\r\n    setShowWarning(true);\r\n    setMessage(message);\r\n\r\n    setTimeout(() => {\r\n      setShowWarning(false);\r\n      setMessage(\"\");\r\n      setIsLoading();\r\n    }, 3000);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <WarningBanner warn={showWarning} message={message} />\r\n      <Grid container>\r\n        <Grid container justify=\"center\">\r\n          <Grid\r\n            item\r\n            xs={8}\r\n            style={{\r\n              marginTop: \"100px\",\r\n            }}\r\n          >\r\n            <SearchBox\r\n              onSubmit={handleSearchSubmit}\r\n              onError={handleWarning}\r\n              history={history}\r\n              isLoading={isLoading}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n        <Grid container justify=\"center\">\r\n          <Grid\r\n            item\r\n            xs={8}\r\n            style={{\r\n              marginTop: \"50px\",\r\n            }}\r\n          >\r\n            <LinkList history={history} />\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\n\r\nconst NotFound = props => {\r\n    return <div>404 not found.</div>;\r\n};\r\n\r\nexport default NotFound;\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\r\nimport App from \"./App\";\r\nimport NotFound from \"../views/404\";\r\n\r\nconst AppRouter = () => {\r\n  return (\r\n    <Router>\r\n      <div>\r\n        <Route exact path=\"/\" component={App} />\r\n        <Route exact path=\"/not-found\" component={NotFound} />\r\n      </div>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default AppRouter;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport AppRouter from \"./components/AppRouter\";\r\n\r\nReactDOM.render(<AppRouter />, document.querySelector(\"#root\"));\r\n"],"sourceRoot":""}