{"version":3,"sources":["components/Background.js","components/WarningBanner.js","components/SearchBox.js","components/LinkListItem.js","components/LinkList.js","components/App.js","views/404.js","components/AppRouter.js","index.js"],"names":["particlesParams","particles","number","value","density","enable","value_area","line_linked","opacity","move","direction","speed","size","anim","opacity_min","interactivity","events","onclick","mode","modes","push","particles_nb","retina_detect","Background","react_default","a","createElement","particles_default","params","canvasClassName","WarningBanner","props","warn","className","style","borderRadius","message","SearchBox","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","isValidURL","string","match","handleSubmit","longURL","setState","showWarning","setTimeout","onSubmit","state","button","_this2","loading","type","disabled","role","aria-hidden","components_WarningBanner","e","preventDefault","placeholder","onChange","target","React","Component","LinkListItem","pageTitle","href","includes","concat","rel","textDecoration","shortURL","class","marginLeft","onClick","el","document","body","appendChild","select","execCommand","removeChild","copyToClipboard","LinkList","history","length","links","slice","reverse","map","link","components_LinkListItem","key","hash","App","handleSearchSubmit","_ref","asyncToGenerator","regenerator_default","mark","_callee","result","wrap","_context","prev","next","isLoading","axios","post","process","sent","data","toConsumableArray","t0","stop","_x","apply","arguments","components_Background","backgroundColor","components_SearchBox","components_LinkList","NotFound","AppRouter","react_router_dom","react_router","exact","path","component","ReactDOM","render","components_AppRouter","querySelector"],"mappings":"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","file":"static/js/main.0d2381d6.chunk.js","sourcesContent":["import React from \"react\";\r\nimport Particles from \"react-particles-js\";\r\nimport \"../styles/particles.css\";\r\n\r\nconst particlesParams = {\r\n  particles: {\r\n    number: {\r\n      value: 300,\r\n      density: {\r\n        enable: true,\r\n        value_area: 1500\r\n      }\r\n    },\r\n    line_linked: {\r\n      enable: true,\r\n      opacity: 0.05\r\n    },\r\n    move: {\r\n      direction: \"right\",\r\n      speed: 0.07\r\n    },\r\n    size: {\r\n      value: 1\r\n    },\r\n    opacity: {\r\n      anim: {\r\n        enable: true,\r\n        speed: 1,\r\n        opacity_min: 0.05\r\n      }\r\n    }\r\n  },\r\n  interactivity: {\r\n    events: {\r\n      onclick: {\r\n        enable: true,\r\n        mode: \"push\"\r\n      }\r\n    },\r\n    modes: {\r\n      push: {\r\n        particles_nb: 1\r\n      }\r\n    }\r\n  },\r\n  retina_detect: true\r\n};\r\n\r\nconst Background = () => {\r\n  return <Particles params={particlesParams} canvasClassName=\"particles\" />;\r\n};\r\n\r\nexport default Background;\r\n","import React from \"react\";\r\n\r\nconst WarningBanner = props => {\r\n  if (!props.warn) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"alert alert-danger fixed-top\" style={{ borderRadius: \"0\" }}>\r\n      <small>{props.message}</small>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WarningBanner;\r\n","import React from \"react\";\r\nimport WarningBanner from \"./WarningBanner\";\r\nimport \"../styles/search.css\";\r\n\r\nclass SearchBox extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { showWarning: false, longURL: \"\" };\r\n  }\r\n\r\n  // https://stackoverflow.com/a/49849482\r\n  isValidURL = string => {\r\n    var res = string.match(\r\n      /(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/g\r\n    );\r\n    return res == null ? false : true;\r\n  };\r\n\r\n  handleSubmit = longURL => {\r\n    if (longURL === \"\") {\r\n      return;\r\n    }\r\n\r\n    if (!this.isValidURL(longURL)) {\r\n      this.setState({ showWarning: true });\r\n      setTimeout(() => {\r\n        this.setState({\r\n          showWarning: false\r\n        });\r\n      }, 3000);\r\n      return;\r\n    }\r\n\r\n    this.props.onSubmit(longURL);\r\n    this.setState({ longURL: \"\" });\r\n  };\r\n\r\n  render() {\r\n    let button;\r\n    if (this.props.loading) {\r\n      button = (\r\n        <button className=\"btn btn-primary\" type=\"button\" disabled>\r\n          <span\r\n            className=\"spinner-border spinner-border-sm\"\r\n            role=\"status\"\r\n            aria-hidden=\"true\"\r\n          />\r\n          <span className=\"sr-only\">Loading...</span>\r\n        </button>\r\n      );\r\n    } else {\r\n      button = (\r\n        <button type=\"submit\" className=\"btn btn-info\">\r\n          SHORTEN\r\n        </button>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <WarningBanner\r\n          warn={this.state.showWarning}\r\n          message=\"Unable to shorten that link. It is not a valid url.\"\r\n        />\r\n        <form\r\n          onSubmit={e => {\r\n            e.preventDefault();\r\n            this.handleSubmit(this.state.longURL);\r\n          }}\r\n        >\r\n          <div className=\"row justify-content-md-center mt-5 mb-5\">\r\n            <div className=\"col-sm-10\">\r\n              <div className=\"input-group input-group-lg\">\r\n                <input\r\n                  className=\"form-control\"\r\n                  type=\"text\"\r\n                  placeholder=\"Paste a link to shorten it\"\r\n                  value={this.state.longURL}\r\n                  onChange={e => this.setState({ longURL: e.target.value })}\r\n                />\r\n                <div className=\"input-group-append\">{button}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchBox;\r\n","import React from \"react\";\r\n\r\nconst LinkListItem = props => {\r\n  function handleLinkProtocol(longURL) {\r\n    let redirectLink =\r\n      longURL.includes(\"http://\") || longURL.includes(\"https://\")\r\n        ? longURL\r\n        : `http://${longURL}`;\r\n\r\n    return redirectLink;\r\n  }\r\n\r\n  function copyToClipboard(shortURL) {\r\n    const el = document.createElement(\"textarea\");\r\n    el.value = shortURL;\r\n    document.body.appendChild(el);\r\n    el.select();\r\n    document.execCommand(\"copy\");\r\n    document.body.removeChild(el);\r\n  }\r\n\r\n  return (\r\n    <div className=\"list-group-item\">\r\n      <ul className=\"list-unstyled mb-0\">\r\n        <li>{props.pageTitle}</li>\r\n        <li className=\"pb-2\">\r\n          <a\r\n            href={handleLinkProtocol(props.longURL)}\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n            style={{ textDecoration: \"none\" }}\r\n          >\r\n            <small className=\"text-muted\">{props.longURL}</small>\r\n          </a>\r\n        </li>\r\n        <li className=\"text-info\">\r\n          {props.shortURL}\r\n          <button\r\n            class=\"btn btn-sm btn-outline-info\"\r\n            style={{ marginLeft: \"15px\" }}\r\n            onClick={copyToClipboard(props.shortURL)}\r\n          >\r\n            COPY\r\n          </button>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LinkListItem;\r\n","import React from \"react\";\r\nimport LinkListItem from \"./LinkListItem\";\r\n\r\nconst LinkList = props => {\r\n  if (props.history.length < 1) {\r\n    return null;\r\n  }\r\n\r\n  let fixedHistory = props.history.slice();\r\n\r\n  const links = fixedHistory\r\n    .reverse()\r\n    .slice(0, 5)\r\n    .map(link => {\r\n      return (\r\n        <LinkListItem\r\n          key={link.hash}\r\n          longURL={link.longURL}\r\n          shortURL={link.shortURL}\r\n          pageTitle={link.pageTitle}\r\n        />\r\n      );\r\n    });\r\n\r\n  return <div className=\"list-group mt-n5\">{links}</div>;\r\n};\r\n\r\nexport default LinkList;\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Background from \"./Background\";\r\nimport SearchBox from \"./SearchBox\";\r\nimport LinkList from \"./LinkList\";\r\nimport WarningBanner from \"./WarningBanner\";\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      history: [],\r\n      showWarning: false,\r\n      message: \"\",\r\n      isLoading: false\r\n    };\r\n  }\r\n\r\n  handleSearchSubmit = async longURL => {\r\n    try {\r\n      this.setState({ isLoading: true });\r\n      const result = await axios.post(\r\n        `${process.env.REACT_APP_API_HOST}/api/shorten`,\r\n        { longURL }\r\n      );\r\n\r\n      let link = {\r\n        longURL: result.data.longURL,\r\n        shortURL: result.data.shortURL,\r\n        hash: result.data.hash,\r\n        pageTitle: result.data.pageTitle\r\n      };\r\n\r\n      this.setState({\r\n        history: [...this.state.history, link],\r\n        isLoading: false\r\n      });\r\n    } catch (err) {\r\n      this.setState({ showWarning: true, message: err.message });\r\n      setTimeout(() => {\r\n        this.setState({\r\n          showWarning: false,\r\n          message: \"\",\r\n          isLoading: false\r\n        });\r\n      }, 3000);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Background />\r\n        <WarningBanner\r\n          warn={this.state.showWarning}\r\n          message={this.state.message}\r\n        />\r\n        <div\r\n          className=\"jumbotron jumbotron-fluid\"\r\n          style={{ backgroundColor: \"rgb(255, 255, 255, .2)\" }}\r\n        >\r\n          <div className=\"container\">\r\n            <SearchBox\r\n              onSubmit={this.handleSearchSubmit}\r\n              loading={this.state.isLoading}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"container\">\r\n          <LinkList history={this.state.history} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\n\r\nconst NotFound = props => {\r\n    return <div>404 not found.</div>;\r\n};\r\n\r\nexport default NotFound;\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\r\nimport App from \"./App\";\r\nimport NotFound from \"../views/404\";\r\n\r\nconst AppRouter = () => {\r\n  return (\r\n    <Router>\r\n      <div>\r\n        <Route exact path=\"/\" component={App} />\r\n        <Route exact path=\"/not-found\" component={NotFound} />\r\n      </div>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default AppRouter;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport AppRouter from \"./components/AppRouter\";\r\n\r\nReactDOM.render(<AppRouter />, document.querySelector(\"#root\"));\r\n"],"sourceRoot":""}