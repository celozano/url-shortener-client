(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,a){e.exports=a(68)},59:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(26),o=a.n(s),l=a(29),c=a(6),i=a(15),u=a.n(i),m=a(32),h=a(27),p=a(7),d=a(8),b=a(10),g=a(9),f=a(11),E=a(28),v=a.n(E),y=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(b.a)(this,Object(g.a)(t).call(this,e))).isValidURL=function(e){return null!=e.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/g)},a.handleSubmit=function(e){""!==e&&(a.isValidURL(e)?(a.props.onSubmit(e),a.setState({longURL:""})):a.props.onError("Unable to shorten that link. It is not a valid url."))},a.state={longURL:""},a.urlInput=r.a.createRef(),a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(e,t){this.urlInput.current.focus()}},{key:"render",value:function(){var e,t=this;return e=this.props.loading?r.a.createElement("button",{className:"btn btn-primary",type:"button",disabled:!0},r.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Loading...")):r.a.createElement("button",{type:"submit",className:"btn btn-info"},"SHORTEN"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t.handleSubmit(t.state.longURL)}},r.a.createElement("div",{className:"row justify-content-center mt-5 mb-5"},r.a.createElement("div",{className:"col-sm-10"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{autoFocus:!0,ref:this.urlInput,className:"form-control",type:"text",placeholder:"Paste a link to shorten it",value:this.state.longURL,onChange:function(e){return t.setState({longURL:e.target.value})}}),r.a.createElement("div",{className:"input-group-append"},e)))))}}]),t}(r.a.Component),L=function(e){return r.a.createElement("div",{className:"list-group-item"},r.a.createElement("ul",{className:"list-unstyled mb-0"},r.a.createElement("li",null,e.pageTitle),r.a.createElement("li",{className:"pb-2"},r.a.createElement("a",{href:(t=e.longURL,t.includes("http://")||t.includes("https://")?t:"http://".concat(t)),target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"}},r.a.createElement("small",{className:"text-muted"},e.longURL))),r.a.createElement("li",{className:"text-info"},e.shortURL,r.a.createElement("button",{className:"btn btn-sm btn-outline-info",style:{marginLeft:"15px"},onClick:function(t){!function(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}(e.shortURL)}},"COPY"))));var t},N=function(e){function t(){return Object(p.a)(this,t),Object(b.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.history.length!==this.props.history.length}},{key:"render",value:function(){return this.props.history.length<1?null:this.props.history.slice(0,5).map(function(e,t){return r.a.createElement(L,{id:e.hash+t,key:e.hash+t,longURL:e.longURL,shortURL:e.shortURL,pageTitle:e.pageTitle})})}}]),t}(r.a.Component),R=function(e){return e.warn?r.a.createElement("div",{className:"alert alert-danger fixed-top",style:{borderRadius:"0"}},r.a.createElement("small",null,e.message)):null},U=(a(59),function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(b.a)(this,Object(g.a)(t).call(this,e))).showWarning=function(e){a.setState({showWarning:!0,message:e}),setTimeout(function(){a.setState({showWarning:!1,message:"",isLoading:!1})},3e3)},a.handleSearchSubmit=function(){var e=Object(h.a)(u.a.mark(function e(t){var n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState({isLoading:!0}),e.next=4,v.a.post("".concat("https://shrturl.xyz","/api/shorten"),{longURL:t});case 4:n=e.sent,r={longURL:n.data.longURL,shortURL:n.data.shortURL,hash:n.data.hash,pageTitle:n.data.pageTitle},a.setState({history:[r].concat(Object(m.a)(a.state.history)),isLoading:!1}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a.showWarning(e.t0.message);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),a.state={history:[],showWarning:!1,message:"",isLoading:!1},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(R,{warn:this.state.showWarning,message:this.state.message}),r.a.createElement("div",{className:"jumbotron jumbotron-fluid"},r.a.createElement("div",{className:"container"},r.a.createElement(y,{onSubmit:this.handleSearchSubmit,loading:this.state.isLoading,onError:this.showWarning}))),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"list-group mt-n5 pb-3"},r.a.createElement(N,{history:this.state.history}))),r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"container"},r.a.createElement("span",{className:"text-muted"},r.a.createElement("small",null,"Desarrollado por Carlos Lozano")))))}}]),t}(r.a.Component)),w=function(e){return r.a.createElement("div",null,"404 not found.")},j=function(){return r.a.createElement(l.a,null,r.a.createElement("div",null,r.a.createElement(c.a,{exact:!0,path:"/",component:U}),r.a.createElement(c.a,{exact:!0,path:"/not-found",component:w})))};o.a.render(r.a.createElement(j,null),document.querySelector("#root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.817b76d5.chunk.js.map