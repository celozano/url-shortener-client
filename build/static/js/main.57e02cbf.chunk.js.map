{"version":3,"sources":["components/Background.js","components/WarningBanner.js","components/SearchBox.js","components/LinkListItem.js","components/LinkList.js","components/App.js","views/404.js","components/AppRouter.js","index.js"],"names":["particlesParams","particles","number","value","density","enable","value_area","line_linked","opacity","move","direction","speed","size","anim","opacity_min","interactivity","events","onclick","mode","modes","push","particles_nb","retina_detect","Background","react_default","a","createElement","particles_default","params","canvasClassName","WarningBanner","props","warn","className","style","borderRadius","message","SearchBox","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleOnChange","e","setState","longURL","target","state","showWarning","isValidURL","string","match","handleSubmit","preventDefault","onSubmit","button","loading","type","disabled","role","aria-hidden","components_WarningBanner","placeholder","onChange","React","Component","LinkListItem","pageTitle","href","includes","concat","rel","textDecoration","shortURL","LinkList","history","length","links","slice","reverse","map","link","components_LinkListItem","key","hash","App","handleSearchSubmit","_ref","asyncToGenerator","regenerator_default","mark","_callee","result","wrap","_context","prev","next","isLoading","axios","post","process","sent","data","toConsumableArray","t0","setTimeout","stop","_x","apply","arguments","components_Background","backgroundColor","components_SearchBox","components_LinkList","NotFound","AppRouter","react_router_dom","react_router","exact","path","component","ReactDOM","render","components_AppRouter","document","querySelector"],"mappings":"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","file":"static/js/main.57e02cbf.chunk.js","sourcesContent":["import React from \"react\";\r\nimport Particles from \"react-particles-js\";\r\nimport \"../styles/particles.css\";\r\n\r\nconst particlesParams = {\r\n  particles: {\r\n    number: {\r\n      value: 300,\r\n      density: {\r\n        enable: true,\r\n        value_area: 1500\r\n      }\r\n    },\r\n    line_linked: {\r\n      enable: true,\r\n      opacity: 0.05\r\n    },\r\n    move: {\r\n      direction: \"right\",\r\n      speed: 0.07\r\n    },\r\n    size: {\r\n      value: 1\r\n    },\r\n    opacity: {\r\n      anim: {\r\n        enable: true,\r\n        speed: 1,\r\n        opacity_min: 0.05\r\n      }\r\n    }\r\n  },\r\n  interactivity: {\r\n    events: {\r\n      onclick: {\r\n        enable: true,\r\n        mode: \"push\"\r\n      }\r\n    },\r\n    modes: {\r\n      push: {\r\n        particles_nb: 1\r\n      }\r\n    }\r\n  },\r\n  retina_detect: true\r\n};\r\n\r\nconst Background = () => {\r\n  return <Particles params={particlesParams} canvasClassName=\"particles\" />;\r\n};\r\n\r\nexport default Background;\r\n","import React from \"react\";\r\n\r\nconst WarningBanner = props => {\r\n  if (!props.warn) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"alert alert-danger fixed-top\" style={{ borderRadius: \"0\" }}>\r\n      <small>{props.message}</small>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WarningBanner;\r\n","import React from \"react\";\r\nimport WarningBanner from \"./WarningBanner\";\r\n\r\nclass SearchBox extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { showWarning: false, longURL: \"\" };\r\n  }\r\n\r\n  handleOnChange = e => {\r\n    this.setState({ longURL: e.target.value });\r\n    if (this.state.showWarning && !e.target.value) {\r\n      this.setState({ showWarning: false });\r\n    }\r\n  };\r\n\r\n  // https://stackoverflow.com/a/49849482\r\n  isValidURL = string => {\r\n    var res = string.match(\r\n      /(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/g\r\n    );\r\n    return res == null ? false : true;\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (this.state.longURL === \"\") {\r\n      return;\r\n    }\r\n\r\n    if (!this.isValidURL(this.state.longURL)) {\r\n      this.setState({ showWarning: true });\r\n      return;\r\n    }\r\n\r\n    this.props.onSubmit(this.state.longURL);\r\n    this.setState({ longURL: \"\" });\r\n  };\r\n\r\n  render() {\r\n    let button;\r\n    if (this.props.loading) {\r\n      button = (\r\n        <button className=\"btn btn-primary\" type=\"button\" disabled>\r\n          <span\r\n            className=\"spinner-border spinner-border-sm\"\r\n            role=\"status\"\r\n            aria-hidden=\"true\"\r\n          />\r\n          <span className=\"sr-only\">Loading...</span>\r\n        </button>\r\n      );\r\n    } else {\r\n      button = (\r\n        <button type=\"submit\" className=\"btn btn-info\">\r\n          SHORTEN\r\n        </button>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <WarningBanner\r\n          warn={this.state.showWarning}\r\n          message=\"Unable to shorten that link. It is not a valid url.\"\r\n        />\r\n        <form onSubmit={this.handleSubmit}>\r\n          <div className=\"row justify-content-md-center mt-4 mb-4\">\r\n            <div className=\"col-sm-10\">\r\n              <div className=\"input-group input-group-lg\">\r\n                <input\r\n                  className=\"form-control\"\r\n                  type=\"text\"\r\n                  placeholder=\"Paste a link to shorten it\"\r\n                  value={this.state.longURL}\r\n                  onChange={this.handleOnChange}\r\n                />\r\n                <div className=\"input-group-append\">{button}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchBox;\r\n","import React from \"react\";\r\n\r\nconst LinkListItem = props => {\r\n  function handleLinkProtocol(longURL) {\r\n    let redirectLink =\r\n      longURL.includes(\"http://\") || longURL.includes(\"https://\")\r\n        ? longURL\r\n        : `http://${longURL}`;\r\n\r\n    return redirectLink;\r\n  }\r\n\r\n  return (\r\n    <div className=\"list-group-item\">\r\n      <ul className=\"list-unstyled mb-0\">\r\n        <li>{props.pageTitle}</li>\r\n        <li className=\"pb-2\">\r\n          <a\r\n            href={handleLinkProtocol(props.longURL)}\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n            style={{ textDecoration: \"none\" }}\r\n          >\r\n            <small className=\"text-muted\">{props.longURL}</small>\r\n          </a>\r\n        </li>\r\n        <li className=\"text-info\">{props.shortURL}</li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LinkListItem;\r\n","import React from \"react\";\r\nimport LinkListItem from \"./LinkListItem\";\r\n\r\nconst LinkList = props => {\r\n  if (props.history.length < 1) {\r\n    return null;\r\n  }\r\n\r\n  let fixedHistory = props.history.slice();\r\n\r\n  const links = fixedHistory\r\n    .reverse()\r\n    .slice(0, 5)\r\n    .map(link => {\r\n      return (\r\n        <LinkListItem\r\n          key={link.hash}\r\n          longURL={link.longURL}\r\n          shortURL={link.shortURL}\r\n          pageTitle={link.pageTitle}\r\n        />\r\n      );\r\n    });\r\n\r\n  return <div className=\"list-group mt-n5\">{links}</div>;\r\n};\r\n\r\nexport default LinkList;\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport Background from \"./Background\";\r\nimport SearchBox from \"./SearchBox\";\r\nimport LinkList from \"./LinkList\";\r\nimport WarningBanner from \"./WarningBanner\";\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      history: [],\r\n      showWarning: false,\r\n      message: \"\",\r\n      isLoading: false\r\n    };\r\n  }\r\n\r\n  handleSearchSubmit = async longURL => {\r\n    try {\r\n      this.setState({ isLoading: true });\r\n      const result = await axios.post(\r\n        `${process.env.REACT_APP_API_HOST}/api/shorten`,\r\n        { longURL }\r\n      );\r\n\r\n      let link = {\r\n        longURL: result.data.longURL,\r\n        shortURL: result.data.shortURL,\r\n        hash: result.data.hash,\r\n        pageTitle: result.data.pageTitle\r\n      };\r\n\r\n      this.setState({\r\n        history: [...this.state.history, link],\r\n        isLoading: false\r\n      });\r\n    } catch (err) {\r\n      this.setState({ showWarning: true, message: err.message });\r\n      setTimeout(() => {\r\n        this.setState({\r\n          showWarning: false,\r\n          message: \"\",\r\n          isLoading: false\r\n        });\r\n      }, 3000);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Background />\r\n        <WarningBanner\r\n          warn={this.state.showWarning}\r\n          message={this.state.message}\r\n        />\r\n        <div\r\n          className=\"jumbotron jumbotron-fluid\"\r\n          style={{ backgroundColor: \"rgb(255, 255, 255, .2)\" }}\r\n        >\r\n          <div className=\"container\">\r\n            <SearchBox\r\n              onSubmit={this.handleSearchSubmit}\r\n              loading={this.state.isLoading}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"container\">\r\n          <LinkList history={this.state.history} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\n\r\nconst NotFound = props => {\r\n    return <div>404 not found.</div>;\r\n};\r\n\r\nexport default NotFound;\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\r\nimport App from \"./App\";\r\nimport NotFound from \"../views/404\";\r\n\r\nconst AppRouter = () => {\r\n  return (\r\n    <Router>\r\n      <div>\r\n        <Route exact path=\"/\" component={App} />\r\n        <Route exact path=\"/not-found\" component={NotFound} />\r\n      </div>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default AppRouter;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport AppRouter from \"./components/AppRouter\";\r\n\r\nReactDOM.render(<AppRouter />, document.querySelector(\"#root\"));\r\n"],"sourceRoot":""}